<% if current_user.is_librarian? %>
  <div class="container mx-auto p-6">
    <header class="mb-6">
      <h1 class="text-3xl font-bold text-blue-700">Librarian Dashboard</h1>
    </header>

    <section class="bg-white shadow-md rounded-lg p-6 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Library Overview</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-blue-100 p-4 rounded-lg shadow-sm">
          <h3 class="text-lg font-medium text-blue-600">Total Books</h3>
          <p class="text-2xl font-bold mt-2"><%= @presenter.total_books %></p>
        </div>
        <div class="bg-green-100 p-4 rounded-lg shadow-sm">
          <h3 class="text-lg font-medium text-green-600">Total Borrowed Books</h3>
          <p class="text-2xl font-bold mt-2"><%= @presenter.total_borrowed_books %></p>
        </div>
        <div class="bg-yellow-100 p-4 rounded-lg shadow-sm">
          <h3 class="text-lg font-medium text-yellow-600">Books Due Today</h3>
          <p class="text-2xl font-bold mt-2"><%= @presenter.books_due_today %></p>
        </div>
        <div class="bg-red-100 p-4 rounded-lg shadow-sm">
          <h3 class="text-lg font-medium text-red-600">Members with Overdue Books</h3>
          <p class="text-2xl font-bold mt-2"><%= @presenter.members_with_overdue_books.count %></p>
        </div>
      </div>
    </section>

    <section class="bg-white shadow-md rounded-lg p-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Members with Overdue Books</h2>
      <ul class="list-disc pl-5">
        <% @presenter.members_with_overdue_books.each do |member| %>
          <li class="text-lg text-gray-700 mb-2"><%= member.name %></li>
        <% end %>
      </ul>
    </section>
  </div>
<% elsif current_user.is_member? %>
  <div class="container mx-auto p-6">
    <header class="mb-6">
      <h1 class="text-3xl font-bold text-blue-700">Member Dashboard</h1>
    </header>

    <section class="bg-white shadow-md rounded-lg p-6 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Books Borrowed</h2>
      <% if @presenter.books.empty? %>
        <p class="text-gray-600">You have not borrowed any books.</p>
      <% else %>
        <ul class="list-disc pl-5">
          <% @presenter.books.each do |log| %>
            <li class="mb-3">
              <div
                class="
                  flex items-center justify-between p-4 border border-gray-200 rounded-lg
                  shadow-sm bg-gray-50
                "
              >
                <span class="text-lg font-medium text-gray-800"><%= log.book.title %></span>
                <span class="text-sm text-gray-600">Due Date:
                  <%= log.due_at %></span>
              </div>
            </li>
          <% end %>
        </ul>
      <% end %>
    </section>

    <section class="bg-white shadow-md rounded-lg p-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Overdue Books</h2>
      <% if @presenter.overdue_books.empty? %>
        <p class="text-gray-600">You have no overdue books.</p>
      <% else %>
        <ul class="list-disc pl-5">
          <% @presenter.overdue_books.each do |log| %>
            <li class="mb-3">
              <div
                class="
                  flex items-center justify-between p-4 border border-red-200 rounded-lg shadow-sm
                  bg-red-50
                "
              >
                <span class="text-lg font-medium text-red-800"><%= log.book.title %></span>
                <span class="text-sm text-red-600">Due Date:
                  <%= log.due_at %></span>
              </div>
            </li>
          <% end %>
        </ul>
      <% end %>
    </section>
  </div>
<% end %>
